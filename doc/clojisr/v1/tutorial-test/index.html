<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /></head><body><div><h1>clojisr.v1.tutorial-test</h1><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Sat Aug 13 18:50:00 CEST 2022.</small></i><hr /></div><div>Checks: <b class="PASSED">60 PASSED </b><hr /></div><div>Table of contents<ul><li><a href="#basic-examples">basic-examples</a></li><li><a href="#functions">functions</a></li><li><a href="#R-dataframes-and-tech.ml.dataset">R-dataframes-and-tech.ml.dataset</a></li><li><a href="#ROBjects">ROBjects</a></li><li><a href="#generating-code">generating-code</a></li><li><a href="#running-generated-code">running-generated-code</a></li><li><a href="#requiring-R-packages">requiring-R-packages</a></li><li><a href="#data-visualization">data-visualization</a></li><li><a href="#intermediary-representation-as-Java-objects">intermediary-representation-as-Java-objects</a></li><li><a href="#more-data-conversion-examples">more-data-conversion-examples</a></li><li><a href="#inspecting-R-functions">inspecting-R-functions</a></li><li><a href="#R-function-arglists">R-function-arglists</a></li></ul><hr /></div><div class="nspbox"><div><h1>Clojisr tutorial</h1></div></div><div class="nspbox"><a id="basic-examples"> </a><div><h2>Basic examples</h2></div></div><div class="nspbox"><div><p>Let us start by some basic usage examples of Clojisr.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r&nbsp;eval-r->java&nbsp;r->java&nbsp;java->r&nbsp;java->clj&nbsp;java->native-clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java&nbsp;r->clj&nbsp;clj->r&nbsp;->code&nbsp;r+&nbsp;colon&nbsp;require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.robject&nbsp;:as&nbsp;robject]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.session&nbsp;:as&nbsp;session]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tech.v3.dataset&nbsp;:as&nbsp;dataset])</code></div></div><div class="nspbox"><div><p>First, let us make sure that we use the Rserve backend (in case we were using another engine instead earlier), and that there are no R sessions currently running. This is typically not needed if you just started working. Here, we do it just in case.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r/set-default-session-type!&nbsp;:rserve)&nbsp;(r/discard-all-sessions)</code></div></div><div class="nspbox"><div><p>Now let us run some R code, and keep a Clojure handle to the return value.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div><p>The thing we created is something called an ROBject.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(class&nbsp;x)</code></div><div class="nspout"><code class="prettyprint lang-clj">clojisr.v1.robject.RObject</code></div></div><div class="nspbox"><div><p>If we wish, we can convert an ROBject to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div><p>Let us see more examples of creating ROBjects and converting them to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(A=1,B=2,'#123strange<text>&nbsp;()'=3)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}]</code></div></div><div class="nspbox"><div><p>In the other direction, we can convert Clojure data to R data. Note that <code>nil</code> is turned to <code>NA</code>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->r)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;&nbsp;1&nbsp;NA&nbsp;&nbsp;3</code></div></div><div class="nspbox"><div><p>We can run code on a separate R session (specify session-args which are different than the default ones).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args&nbsp;{:session-name&nbsp;"mysession"})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[3.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="functions"> </a><div><h2>Functions</h2></div></div><div class="nspbox"><div><p>An R function is also a Clojure function.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x)&nbsp;x*10"))</code></div></div><div class="nspbox"><div><p>Let us apply it to Clojure data (implicitly converting that data to R).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div><p>We can also apply it to R data.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div><p>Functions can get named arguments. Here we pass the <code>na.rm</code> argument, that tells R whether to remove missing values whenn computing the mean.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;:na.rm&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div><p>Another example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[f&nbsp;(r&nbsp;"function(w,x,y=10,z=20)&nbsp;w+x+y+z")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;[(f&nbsp;1&nbsp;2)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:y&nbsp;100)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:z&nbsp;100)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[[33.0]&nbsp;[123.0]&nbsp;[113.0]])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;([33.0]&nbsp;[123.0]&nbsp;[113.0])]</code></div></div><div class="nspbox"><div><p>Some functions are already created in Clojisr and given special names for convenience. Here are some examples:</p></div></div><div class="nspbox"><div><p>R addition:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r+&nbsp;1&nbsp;2&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[6]]</code></div></div><div class="nspbox"><div><p>R colon (<code>:</code>), for creating a range of integers, like <code>0:9</code>:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(colon&nbsp;0&nbsp;9)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><a id="R-dataframes-and-tech.ml.dataset"> </a><div><h2>R dataframes and tech.ml.dataset datasets</h2></div></div><div class="nspbox"><div><p>At Clojure, we have a structure that is equivalent to R dataframes: a <a href='https://github.com/techascent/tech.ml.dataset'>tech.ml.dataset</a> dataset.</p><p>Let us create such a dataset, pass it to an R function to compute the row means, and then convert the return value back to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;"function(data)&nbsp;rowMeans(data)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div><p>Let us see some more dataset proccessing through R.</p></div></div><div class="nspbox"><div><p>Loading the R package <a href='https://dplyr.tidyverse.org/'>dplyr</a> (assuming it is installed).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(dplyr)")</code></div></div><div class="nspbox"><div><p>Using dplyr to process some Clojure dataset, and convert back to the resulting dataset.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;"function(data)&nbsp;filter(data,&nbsp;x>=2)")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;"function(data)&nbsp;mutate(data,&nbsp;z=x+y)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;(fn&nbsp;[d]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/mapseq-reader</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;[{:x&nbsp;2,&nbsp;:y&nbsp;5,&nbsp;:z&nbsp;7}&nbsp;{:x&nbsp;3,&nbsp;:y&nbsp;6,&nbsp;:z&nbsp;9}]))))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;:x&nbsp;|&nbsp;:y&nbsp;|&nbsp;:z&nbsp;|</br>|---:|---:|---:|</br>|&nbsp;&nbsp;2&nbsp;|&nbsp;&nbsp;5&nbsp;|&nbsp;&nbsp;7&nbsp;|</br>|&nbsp;&nbsp;3&nbsp;|&nbsp;&nbsp;6&nbsp;|&nbsp;&nbsp;9&nbsp;|</br>]</code></div></div><div class="nspbox"><div><p><a href='https://tibble.tidyverse.org'>Tibbles</a>, which are a more recent R dataframe notion, are also supported, as a special case of data frames.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(tibble)")</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">#&nbsp;A&nbsp;tibble:&nbsp;3&nbsp;Ã—&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;<int>&nbsp;<int></br>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</br>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/mapseq-reader</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[{:x&nbsp;1,&nbsp;:y&nbsp;4}&nbsp;{:x&nbsp;2,&nbsp;:y&nbsp;5}&nbsp;{:x&nbsp;3,&nbsp;:y&nbsp;6}])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[{:x&nbsp;1,&nbsp;:y&nbsp;4}&nbsp;{:x&nbsp;2,&nbsp;:y&nbsp;5}&nbsp;{:x&nbsp;3,&nbsp;:y&nbsp;6}]]</code></div></div><div class="nspbox"><a id="ROBjects"> </a><div><h2>R objects</h2></div></div><div class="nspbox"><div><p>Clojisr holds handles to R objects, that are stored in memory at the R session, where they are assigned random names.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;one+two&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;clojisr.v1.robject.RObject))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;clojisr.v1.robject.RObject]</code></div></div><div class="nspbox"><div><p>The name of an object is the place where it is held at R (inside an R <a href='http://adv-r.had.co.nz/Environments.html'>evnironment</a> called <code>.MEM</code>).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(:object-name&nbsp;one+two)</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$xefb76327608f4b5b"</code></div></div><div class="nspbox"><a id="generating-code"> </a><div><h2>Generating code</h2></div></div><div class="nspbox"><div><p>Let us see the mechanism by which clojisr generates R code, and the rules defining it.</p></div></div><div class="nspbox"><div><p>Since we are playing a bit with the internals here, we will need a reference to the R session:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;session&nbsp;(session/fetch-or-make&nbsp;nil))</code></div></div><div class="nspbox"><div><p>For the following examples, we will use some <strong>dummy</strong> handles to R objects with given names:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(robject/->RObject&nbsp;"robject_x"&nbsp;session&nbsp;nil&nbsp;nil))</br>&nbsp;(def&nbsp;y&nbsp;(robject/->RObject&nbsp;"robject_y"&nbsp;session&nbsp;nil&nbsp;nil))</code></div></div><div class="nspbox"><div><p>.. and some <strong>real</strong> handles to R objects:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;minus-eleven&nbsp;(r&nbsp;"-11"))&nbsp;(def&nbsp;abs&nbsp;(r&nbsp;"abs"))</code></div></div><div class="nspbox"><div><p>The function <code>-&gt;code</code> generates R code according to a certain set of rules. Here we describe some of these rules briefly. We also wrote a dedicated tutorial about the rule set more thoroughly.</p></div></div><div class="nspbox"><div><p>For an ROBject, the generated code is just the ROBject name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"robject_x"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"robject_x"]</code></div></div><div class="nspbox"><div><p>For a clojure value, we use some form analysis and generate proper R string or values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"hello"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\"hello\"$"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"\"hello\""]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(1L,2L,3L)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(1L,2L,3L)"]</code></div></div><div class="nspbox"><div><p>For a symbol, we generate the code with the corresponding R symbol.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'x)</code></div><div class="nspout"><code class="prettyprint lang-clj">"x"</code></div></div><div class="nspbox"><div><p>A sequential structure (list, vector, etc.) can be interpreted as a compound expression, for which code generation is defined accorting to the first list element.</p></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'function</code>, we generate an R function definition.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,y)&nbsp;{x}"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,y)&nbsp;{x}"]</code></div></div><div class="nspbox"><div><p>For a vector instead of list, we create R vector.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'[function&nbsp;[x&nbsp;y]&nbsp;x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(function,c(x,y),x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(function,c(x,y),x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'formula</code>, we generate an R <code>&#126;</code>-formula.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(formula&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x~y)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x~y)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with a symbol known to be a binary operator, we generate nested calls.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(+&nbsp;x&nbsp;y&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"((x+y)+z)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"((x+y)+z)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with another symbol, we generate a function call with that symbol as the function name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(f&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"f(x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"f(x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with an R object that is a function, we generate a function call with that object as the function. If you create the list using the quote sign (<code>'</code>), don't forget to unquote symbols refering to things you defined on the Clojure side.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(x\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x8b687f988b924bf7(x)"]</code></div></div><div class="nspbox"><div><p>All other sequential things (that is, those not beginning with a symbol or R function) are intepreted as data, converted implicitly R data representation.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;`(~abs&nbsp;(1&nbsp;2&nbsp;3))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(c\(1L,2L,3L\)\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x8b687f988b924bf7(c(1L,2L,3L))"]</code></div></div><div class="nspbox"><div><p>Some more examples, showing how these rules compose:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;~y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(robject_y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(+&nbsp;x&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;(list&nbsp;'function&nbsp;'[x&nbsp;y]&nbsp;(list&nbsp;'+&nbsp;'x&nbsp;'y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(print&nbsp;x)&nbsp;(f&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{print(x);f(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(~abs&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{.MEM$x8b687f988b924bf7(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;~minus-eleven))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x8b687f988b924bf7(.MEM$x25645d57b7844f78)"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;-11))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x8b687f988b924bf7(-11L)"</code></div></div><div class="nspbox"><div><p>Use syntax quote ` in case you want to use local bindings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[minus-ten&nbsp;-10]&nbsp;(->code&nbsp;`(~abs&nbsp;~minus-ten)))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x8b687f988b924bf7(-10L)"</code></div></div><div class="nspbox"><a id="running-generated-code"> </a><div><h2>Running generated code</h2></div></div><div class="nspbox"><div><p>Clojure forms can be run as R code. Behind the scences, they are turned to R code using the <code>-&gt;code</code> function described above. For example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3&nbsp;2&nbsp;1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3&nbsp;2&nbsp;1]]</code></div></div><div class="nspbox"><div><p>Or, equivalently:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3&nbsp;2&nbsp;1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3&nbsp;2&nbsp;1]]</code></div></div><div class="nspbox"><div><p>Let us repeat the basic examples from the beginning of this tutorial, this time generating code rather than writing it as Strings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;'(+&nbsp;1&nbsp;2)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(*&nbsp;x&nbsp;10))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(rowMeans&nbsp;data)))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'(library&nbsp;dplyr))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(filter&nbsp;data&nbsp;(>=&nbsp;x&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(mutate&nbsp;data&nbsp;(=&nbsp;z&nbsp;(+&nbsp;x&nbsp;y)))))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj))</code></div><div class="nspout"><code class="prettyprint lang-clj">_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;:x&nbsp;|&nbsp;:y&nbsp;|&nbsp;:z&nbsp;|</br>|---:|---:|---:|</br>|&nbsp;&nbsp;2&nbsp;|&nbsp;&nbsp;5&nbsp;|&nbsp;&nbsp;7&nbsp;|</br>|&nbsp;&nbsp;3&nbsp;|&nbsp;&nbsp;6&nbsp;|&nbsp;&nbsp;9&nbsp;|</code></div></div><div class="nspbox"><a id="requiring-R-packages"> </a><div><h2>Requiring R packages</h2></div></div><div class="nspbox"><div><p>Sometimes, we want to bring to the Clojure world functions and data from R packages. Here, we try to follow the <a href='https://github.com/cnuernber/libpython-clj/blob/master/test/libpython_clj/require_python_test.clj'>require-python</a> syntax of <a href='https://github.com/cnuernber/libpython-clj'>libpython-clj</a> (though currently in a less sophisticated way.)</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[stats&nbsp;:as&nbsp;statz&nbsp;:refer&nbsp;[median]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.stats/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statz/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[datasets&nbsp;:as&nbsp;datasetz&nbsp;:refer&nbsp;[euro]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[r.datasets/euro&nbsp;datasetz/euro&nbsp;euro]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;apply&nbsp;=))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br>]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:refer&nbsp;[$]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'a)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[1])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><a id="data-visualization"> </a><div><h2>Data visualization</h2></div></div><div class="nspbox"><div><p>Functions creating R plots or any plotting objects generated by various R libraries can be wrapped in a way that returns an SVG, BufferedImage or can be saved to a file. All of them accept additional parameters specified in <code>grDevices</code> R package.</p></div></div><div class="nspbox"><div><p>Currently there is a bug that sometimes causes axes and labels to disappear when rendered inside a larger HTML.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[graphics&nbsp;:refer&nbsp;[plot&nbsp;hist]])</br>&nbsp;(require-r&nbsp;'[ggplot2&nbsp;:refer&nbsp;[ggplot&nbsp;aes&nbsp;geom_point&nbsp;xlab&nbsp;ylab&nbsp;labs]])</br>&nbsp;(require&nbsp;'[clojisr.v1.applications.plotting&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot->svg&nbsp;plot->file&nbsp;plot->buffered-image]])</code></div></div><div class="nspbox"><div><p>First example, simple plotting function as SVG string.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;rand</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;30)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reductions&nbsp;+)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(plot&nbsp;:xlab&nbsp;"t"&nbsp;:ylab&nbsp;"y"&nbsp;:type&nbsp;"l"))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 3.296875 -8.671875 C 2.515625 -8.671875 1.78125 -8.3125 1.34375 -7.734375 C 0.796875 -6.953125 0.515625 -5.8125 0.515625 -4.203125 C 0.515625 -1.265625 1.46875 0.28125 3.296875 0.28125 C 5.09375 0.28125 6.078125 -1.265625 6.078125 -4.125 C 6.078125 -5.8125 5.8125 -6.9375 5.25 -7.734375 C 4.8125 -8.328125 4.109375 -8.671875 3.296875 -8.671875 Z M 3.296875 -7.734375 C 4.4375 -7.734375 5 -6.578125 5 -4.21875 C 5 -1.75 4.453125 -0.59375 3.28125 -0.59375 C 2.15625 -0.59375 1.59375 -1.796875 1.59375 -4.1875 C 1.59375 -6.578125 2.15625 -7.734375 3.296875 -7.734375 Z M 3.296875 -7.734375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 5.71875 -8.515625 L 1.3125 -8.515625 L 0.6875 -3.875 L 1.65625 -3.875 C 2.140625 -4.46875 2.5625 -4.671875 3.234375 -4.671875 C 4.375 -4.671875 5.078125 -3.890625 5.078125 -2.625 C 5.078125 -1.40625 4.375 -0.65625 3.21875 -0.65625 C 2.296875 -0.65625 1.734375 -1.125 1.46875 -2.09375 L 0.421875 -2.09375 C 0.5625 -1.390625 0.6875 -1.0625 0.9375 -0.75 C 1.421875 -0.09375 2.28125 0.28125 3.234375 0.28125 C 4.953125 0.28125 6.15625 -0.96875 6.15625 -2.765625 C 6.15625 -4.453125 5.046875 -5.609375 3.40625 -5.609375 C 2.8125 -5.609375 2.328125 -5.453125 1.84375 -5.09375 L 2.171875 -7.46875 L 5.71875 -7.46875 Z M 5.71875 -8.515625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 3.109375 -6.1875 L 3.109375 0 L 4.15625 0 L 4.15625 -8.671875 L 3.46875 -8.671875 C 3.09375 -7.34375 2.859375 -7.15625 1.21875 -6.953125 L 1.21875 -6.1875 Z M 3.109375 -6.1875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 6.078125 -1.046875 L 1.59375 -1.046875 C 1.703125 -1.765625 2.09375 -2.21875 3.125 -2.859375 L 4.328125 -3.53125 C 5.515625 -4.1875 6.125 -5.078125 6.125 -6.140625 C 6.125 -6.859375 5.84375 -7.53125 5.34375 -8 C 4.84375 -8.453125 4.21875 -8.671875 3.40625 -8.671875 C 2.328125 -8.671875 1.53125 -8.296875 1.0625 -7.546875 C 0.75 -7.09375 0.625 -6.546875 0.59375 -5.671875 L 1.65625 -5.671875 C 1.6875 -6.265625 1.765625 -6.609375 1.90625 -6.90625 C 2.1875 -7.421875 2.734375 -7.75 3.375 -7.75 C 4.328125 -7.75 5.046875 -7.0625 5.046875 -6.125 C 5.046875 -5.421875 4.65625 -4.828125 3.90625 -4.390625 L 2.796875 -3.75 C 1.015625 -2.71875 0.5 -1.90625 0.40625 -0.015625 L 6.078125 -0.015625 Z M 6.078125 -1.046875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 2.65625 -4 L 3.234375 -4 C 4.375 -4 4.984375 -3.453125 4.984375 -2.40625 C 4.984375 -1.3125 4.328125 -0.65625 3.234375 -0.65625 C 2.078125 -0.65625 1.515625 -1.25 1.4375 -2.515625 L 0.390625 -2.515625 C 0.4375 -1.828125 0.546875 -1.375 0.75 -0.984375 C 1.203125 -0.140625 2.03125 0.28125 3.1875 0.28125 C 4.9375 0.28125 6.078125 -0.78125 6.078125 -2.421875 C 6.078125 -3.53125 5.65625 -4.125 4.625 -4.484375 C 5.421875 -4.8125 5.8125 -5.40625 5.8125 -6.28125 C 5.8125 -7.78125 4.84375 -8.671875 3.234375 -8.671875 C 1.515625 -8.671875 0.59375 -7.71875 0.5625 -5.875 L 1.625 -5.875 C 1.625 -6.40625 1.6875 -6.703125 1.8125 -6.96875 C 2.046875 -7.46875 2.578125 -7.75 3.234375 -7.75 C 4.171875 -7.75 4.734375 -7.1875 4.734375 -6.25 C 4.734375 -5.640625 4.53125 -5.265625 4.0625 -5.0625 C 3.765625 -4.9375 3.390625 -4.890625 2.65625 -4.890625 Z M 2.65625 -4 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 3.046875 -6.28125 L 2.015625 -6.28125 L 2.015625 -8.015625 L 1.015625 -8.015625 L 1.015625 -6.28125 L 0.171875 -6.28125 L 0.171875 -5.46875 L 1.015625 -5.46875 L 1.015625 -0.71875 C 1.015625 -0.078125 1.453125 0.28125 2.234375 0.28125 C 2.5 0.28125 2.71875 0.25 3.046875 0.1875 L 3.046875 -0.640625 C 2.90625 -0.609375 2.765625 -0.59375 2.5625 -0.59375 C 2.140625 -0.59375 2.015625 -0.71875 2.015625 -1.15625 L 2.015625 -5.46875 L 3.046875 -5.46875 Z M 3.046875 -6.28125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M -1.046875 -6.078125 L -1.046875 -1.59375 C -1.765625 -1.703125 -2.21875 -2.09375 -2.859375 -3.125 L -3.53125 -4.328125 C -4.1875 -5.515625 -5.078125 -6.125 -6.140625 -6.125 C -6.859375 -6.125 -7.53125 -5.84375 -8 -5.34375 C -8.453125 -4.84375 -8.671875 -4.21875 -8.671875 -3.40625 C -8.671875 -2.328125 -8.296875 -1.53125 -7.546875 -1.0625 C -7.09375 -0.75 -6.546875 -0.625 -5.671875 -0.59375 L -5.671875 -1.65625 C -6.265625 -1.6875 -6.609375 -1.765625 -6.90625 -1.90625 C -7.421875 -2.1875 -7.75 -2.734375 -7.75 -3.375 C -7.75 -4.328125 -7.0625 -5.046875 -6.125 -5.046875 C -5.421875 -5.046875 -4.828125 -4.65625 -4.390625 -3.90625 L -3.75 -2.796875 C -2.71875 -1.015625 -1.90625 -0.5 -0.015625 -0.40625 L -0.015625 -6.078125 Z M -1.046875 -6.078125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M -2.09375 -3.921875 L 0 -3.921875 L 0 -4.984375 L -2.09375 -4.984375 L -2.09375 -6.234375 L -3.046875 -6.234375 L -3.046875 -4.984375 L -8.671875 -4.984375 L -8.671875 -4.203125 L -3.21875 -0.34375 L -2.09375 -0.34375 Z M -3.046875 -3.921875 L -3.046875 -1.265625 L -6.875 -3.921875 Z M -3.046875 -3.921875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M -6.421875 -5.96875 C -7.84375 -5.765625 -8.671875 -4.859375 -8.671875 -3.5625 C -8.671875 -2.625 -8.21875 -1.78125 -7.4375 -1.28125 C -6.59375 -0.75 -5.53125 -0.515625 -3.953125 -0.515625 C -2.5 -0.515625 -1.578125 -0.71875 -0.796875 -1.234375 C -0.09375 -1.6875 0.28125 -2.4375 0.28125 -3.375 C 0.28125 -4.984375 -0.9375 -6.15625 -2.625 -6.15625 C -4.21875 -6.15625 -5.359375 -5.078125 -5.359375 -3.546875 C -5.359375 -2.71875 -5.046875 -2.046875 -4.40625 -1.59375 C -6.546875 -1.609375 -7.734375 -2.28125 -7.734375 -3.484375 C -7.734375 -4.234375 -7.265625 -4.75 -6.421875 -4.921875 Z M -4.421875 -3.421875 C -4.421875 -4.4375 -3.703125 -5.078125 -2.546875 -5.078125 C -1.453125 -5.078125 -0.65625 -4.359375 -0.65625 -3.390625 C -0.65625 -2.40625 -1.484375 -1.65625 -2.59375 -1.65625 C -3.671875 -1.65625 -4.421875 -2.375 -4.421875 -3.421875 Z M -4.421875 -3.421875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M -4.578125 -4.6875 C -5.109375 -5.578125 -5.546875 -5.859375 -6.359375 -5.859375 C -7.734375 -5.859375 -8.671875 -4.8125 -8.671875 -3.296875 C -8.671875 -1.796875 -7.734375 -0.75 -6.375 -0.75 C -5.546875 -0.75 -5.125 -1.015625 -4.578125 -1.890625 C -4.078125 -0.921875 -3.375 -0.4375 -2.40625 -0.4375 C -0.828125 -0.4375 0.28125 -1.609375 0.28125 -3.296875 C 0.28125 -4.984375 -0.828125 -6.15625 -2.40625 -6.15625 C -3.375 -6.15625 -4.078125 -5.671875 -4.578125 -4.6875 Z M -7.734375 -3.296875 C -7.734375 -4.203125 -7.203125 -4.78125 -6.34375 -4.78125 C -5.515625 -4.78125 -4.984375 -4.1875 -4.984375 -3.296875 C -4.984375 -2.40625 -5.515625 -1.828125 -6.359375 -1.828125 C -7.203125 -1.828125 -7.734375 -2.40625 -7.734375 -3.296875 Z M -4.09375 -3.296875 C -4.09375 -4.359375 -3.390625 -5.078125 -2.390625 -5.078125 C -1.34375 -5.078125 -0.65625 -4.375 -0.65625 -3.28125 C -0.65625 -2.25 -1.375 -1.53125 -2.375 -1.53125 C -3.40625 -1.53125 -4.09375 -2.234375 -4.09375 -3.296875 Z M -4.09375 -3.296875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M -6.1875 -3.109375 L 0 -3.109375 L 0 -4.15625 L -8.671875 -4.15625 L -8.671875 -3.46875 C -7.34375 -3.09375 -7.15625 -2.859375 -6.953125 -1.21875 L -6.1875 -1.21875 Z M -6.1875 -3.109375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M -8.671875 -3.296875 C -8.671875 -2.515625 -8.3125 -1.78125 -7.734375 -1.34375 C -6.953125 -0.796875 -5.8125 -0.515625 -4.203125 -0.515625 C -1.265625 -0.515625 0.28125 -1.46875 0.28125 -3.296875 C 0.28125 -5.09375 -1.265625 -6.078125 -4.125 -6.078125 C -5.8125 -6.078125 -6.9375 -5.8125 -7.734375 -5.25 C -8.328125 -4.8125 -8.671875 -4.109375 -8.671875 -3.296875 Z M -7.734375 -3.296875 C -7.734375 -4.4375 -6.578125 -5 -4.21875 -5 C -1.75 -5 -0.59375 -4.453125 -0.59375 -3.28125 C -0.59375 -2.15625 -1.796875 -1.59375 -4.1875 -1.59375 C -6.578125 -1.59375 -7.734375 -2.15625 -7.734375 -3.296875 Z M -7.734375 -3.296875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M -6.28125 -4.65625 L -1.390625 -2.921875 L -6.28125 -1.3125 L -6.28125 -0.234375 L 0.03125 -2.359375 L 1.015625 -1.984375 C 1.46875 -1.8125 1.625 -1.59375 1.625 -1.171875 C 1.625 -1.015625 1.609375 -0.859375 1.5625 -0.640625 L 2.453125 -0.640625 C 2.5625 -0.859375 2.609375 -1.0625 2.609375 -1.3125 C 2.609375 -1.640625 2.515625 -1.984375 2.3125 -2.25 C 2.09375 -2.5625 1.828125 -2.75 1.3125 -2.9375 L -6.28125 -5.734375 Z M -6.28125 -4.65625 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.398438 416.800781 L 87.640625 415.097656 L 100.882812 404.339844 L 114.125 388.238281 L 127.367188 371.753906 L 140.605469 370.414062 L 153.847656 356.785156 L 167.089844 342.375 L 180.332031 328.960938 L 193.574219 325.390625 L 206.8125 323.246094 L 220.054688 317.726562 L 233.296875 309.207031 L 246.539062 286.316406 L 259.78125 278.992188 L 273.019531 256.582031 L 286.261719 233.996094 L 299.503906 229.101562 L 312.746094 214.761719 L 325.984375 207.664062 L 339.226562 203.785156 L 352.46875 200.921875 L 365.710938 177.082031 L 378.953125 161.617188 L 392.191406 147.484375 L 405.433594 137.816406 L 418.675781 118.894531 L 431.917969 107.300781 L 445.160156 95.371094 L 458.398438 72.800781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 458.398438 430.558594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 61.160156 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.367188 430.558594 L 127.367188 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.574219 430.558594 L 193.574219 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.78125 430.558594 L 259.78125 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 325.984375 430.558594 L 325.984375 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.191406 430.558594 L 392.191406 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 458.398438 430.558594 L 458.398438 437.761719 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="57.660156" y="456.228516"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="123.867188" y="456.228516"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="186.574219" y="456.228516"/>
  <use xlink:href="#glyph0-1" x="193.574219" y="456.228516"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="252.78125" y="456.228516"/>
  <use xlink:href="#glyph0-2" x="259.78125" y="456.228516"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="318.984375" y="456.228516"/>
  <use xlink:href="#glyph0-1" x="325.984375" y="456.228516"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="385.191406" y="456.228516"/>
  <use xlink:href="#glyph0-2" x="392.191406" y="456.228516"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="451.398438" y="456.228516"/>
  <use xlink:href="#glyph0-1" x="458.398438" y="456.228516"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 383.320312 L 59.039062 95.71875 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 383.320312 L 51.839844 383.320312 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 335.386719 L 51.839844 335.386719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 287.453125 L 51.839844 287.453125 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 239.519531 L 51.839844 239.519531 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 191.585938 L 51.839844 191.585938 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 143.652344 L 51.839844 143.652344 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 95.71875 L 51.839844 95.71875 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="41.509766" y="386.820312"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="41.509766" y="338.886719"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.509766" y="290.953125"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-4" x="41.509766" y="243.019531"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.509766" y="198.585938"/>
  <use xlink:href="#glyph1-6" x="41.509766" y="191.585938"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.509766" y="150.652344"/>
  <use xlink:href="#glyph1-1" x="41.509766" y="143.652344"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.509766" y="102.71875"/>
  <use xlink:href="#glyph1-2" x="41.509766" y="95.71875"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 430.558594 L 473.761719 430.558594 L 473.761719 59.039062 L 59.039062 59.039062 Z M 59.039062 430.558594 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-6" x="264.898438" y="485.029297"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-7" x="12.708984" y="247.800781"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>ggplot2 plots (or any other plot objects like lattice) can be also turned into SVG.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[x&nbsp;(repeatedly&nbsp;99&nbsp;rand)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(map&nbsp;+&nbsp;x&nbsp;(repeatedly&nbsp;99&nbsp;rand))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;{:x&nbsp;x,&nbsp;:y&nbsp;y}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ggplot&nbsp;(aes&nbsp;:x&nbsp;x&nbsp;:y&nbsp;y&nbsp;:color&nbsp;'(+&nbsp;x&nbsp;y)&nbsp;:size&nbsp;'(/&nbsp;x&nbsp;y)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(geom_point)&nbsp;(xlab&nbsp;"x")&nbsp;(ylab&nbsp;"y")))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 2.421875 -6.359375 C 1.84375 -6.359375 1.3125 -6.09375 0.984375 -5.671875 C 0.578125 -5.109375 0.375 -4.25 0.375 -3.078125 C 0.375 -0.9375 1.078125 0.203125 2.421875 0.203125 C 3.734375 0.203125 4.453125 -0.9375 4.453125 -3.03125 C 4.453125 -4.25 4.265625 -5.078125 3.859375 -5.671875 C 3.53125 -6.109375 3.015625 -6.359375 2.421875 -6.359375 Z M 2.421875 -5.671875 C 3.25 -5.671875 3.671875 -4.828125 3.671875 -3.09375 C 3.671875 -1.28125 3.265625 -0.4375 2.40625 -0.4375 C 1.578125 -0.4375 1.171875 -1.3125 1.171875 -3.0625 C 1.171875 -4.828125 1.578125 -5.671875 2.421875 -5.671875 Z M 2.421875 -5.671875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 1.6875 -0.921875 L 0.765625 -0.921875 L 0.765625 0 L 1.6875 0 Z M 1.6875 -0.921875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.1875 -6.234375 L 0.96875 -6.234375 L 0.5 -2.84375 L 1.21875 -2.84375 C 1.578125 -3.265625 1.875 -3.421875 2.359375 -3.421875 C 3.203125 -3.421875 3.71875 -2.84375 3.71875 -1.921875 C 3.71875 -1.03125 3.203125 -0.484375 2.359375 -0.484375 C 1.6875 -0.484375 1.265625 -0.828125 1.078125 -1.53125 L 0.3125 -1.53125 C 0.40625 -1.015625 0.5 -0.78125 0.6875 -0.546875 C 1.03125 -0.078125 1.671875 0.203125 2.375 0.203125 C 3.640625 0.203125 4.515625 -0.71875 4.515625 -2.03125 C 4.515625 -3.265625 3.6875 -4.109375 2.5 -4.109375 C 2.0625 -4.109375 1.703125 -4 1.34375 -3.734375 L 1.59375 -5.46875 L 4.1875 -5.46875 Z M 4.1875 -6.234375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 2.28125 -4.53125 L 2.28125 0 L 3.046875 0 L 3.046875 -6.359375 L 2.546875 -6.359375 C 2.265625 -5.390625 2.09375 -5.25 0.890625 -5.09375 L 0.890625 -4.53125 Z M 2.28125 -4.53125 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 4.453125 -0.765625 L 1.171875 -0.765625 C 1.25 -1.296875 1.53125 -1.625 2.296875 -2.09375 L 3.171875 -2.59375 C 4.046875 -3.0625 4.5 -3.71875 4.5 -4.5 C 4.5 -5.03125 4.28125 -5.53125 3.921875 -5.875 C 3.546875 -6.203125 3.09375 -6.359375 2.5 -6.359375 C 1.703125 -6.359375 1.125 -6.078125 0.78125 -5.53125 C 0.546875 -5.203125 0.453125 -4.796875 0.4375 -4.15625 L 1.21875 -4.15625 C 1.234375 -4.59375 1.296875 -4.84375 1.40625 -5.0625 C 1.59375 -5.4375 2 -5.6875 2.46875 -5.6875 C 3.171875 -5.6875 3.703125 -5.171875 3.703125 -4.484375 C 3.703125 -3.96875 3.40625 -3.53125 2.859375 -3.21875 L 2.046875 -2.75 C 0.75 -2 0.375 -1.40625 0.296875 -0.015625 L 4.453125 -0.015625 Z M 4.453125 -0.765625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 4.578125 -6.234375 L 0.40625 -6.234375 L 0.40625 -5.46875 L 3.78125 -5.46875 C 2.28125 -3.359375 1.6875 -2.046875 1.21875 0 L 2.046875 0 C 2.390625 -2 3.171875 -3.71875 4.578125 -5.59375 Z M 4.578125 -6.234375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M 3.21875 -2.984375 L 5.140625 -5.765625 L 4.109375 -5.765625 L 2.734375 -3.671875 L 1.34375 -5.765625 L 0.296875 -5.765625 L 2.21875 -2.9375 L 0.1875 0 L 1.234375 0 L 2.6875 -2.21875 L 4.140625 0 L 5.203125 0 Z M 3.21875 -2.984375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M 2.59375 -8.015625 C 1.5 -6.578125 0.796875 -4.578125 0.796875 -2.84375 C 0.796875 -1.109375 1.5 0.890625 2.59375 2.328125 L 3.203125 2.328125 C 2.234375 0.765625 1.6875 -1.09375 1.6875 -2.84375 C 1.6875 -4.59375 2.234375 -6.453125 3.203125 -8.015625 Z M 2.59375 -8.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M 5.875 -2.9375 L 3.59375 -2.9375 L 3.59375 -5.21875 L 2.828125 -5.21875 L 2.828125 -2.9375 L 0.546875 -2.9375 L 0.546875 -2.171875 L 2.828125 -2.171875 L 2.828125 0.109375 L 3.59375 0.109375 L 3.59375 -2.171875 L 5.875 -2.171875 Z M 5.875 -2.9375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 4.265625 -5.765625 L 2.671875 -1.28125 L 1.203125 -5.765625 L 0.21875 -5.765625 L 2.171875 0.015625 L 1.8125 0.9375 C 1.65625 1.34375 1.46875 1.5 1.078125 1.5 C 0.921875 1.5 0.796875 1.46875 0.59375 1.4375 L 0.59375 2.25 C 0.78125 2.359375 0.96875 2.390625 1.203125 2.390625 C 1.5 2.390625 1.828125 2.296875 2.0625 2.125 C 2.359375 1.90625 2.515625 1.671875 2.6875 1.203125 L 5.265625 -5.765625 Z M 4.265625 -5.765625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M 1.015625 2.328125 C 2.125 0.890625 2.8125 -1.109375 2.8125 -2.84375 C 2.8125 -4.578125 2.125 -6.578125 1.015625 -8.015625 L 0.421875 -8.015625 C 1.390625 -6.453125 1.921875 -4.59375 1.921875 -2.84375 C 1.921875 -1.09375 1.390625 0.765625 0.421875 2.328125 Z M 1.015625 2.328125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 2.515625 -8.015625 L -0.09375 0.21875 L 0.515625 0.21875 L 3.125 -8.015625 Z M 2.515625 -8.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph2-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph2-1">
<path style="stroke:none;" d="M -5.765625 -4.265625 L -1.28125 -2.671875 L -5.765625 -1.203125 L -5.765625 -0.21875 L 0.015625 -2.171875 L 0.9375 -1.8125 C 1.34375 -1.65625 1.5 -1.46875 1.5 -1.078125 C 1.5 -0.921875 1.46875 -0.796875 1.4375 -0.59375 L 2.25 -0.59375 C 2.359375 -0.78125 2.390625 -0.96875 2.390625 -1.203125 C 2.390625 -1.5 2.296875 -1.828125 2.125 -2.0625 C 1.90625 -2.359375 1.671875 -2.515625 1.203125 -2.6875 L -5.765625 -5.265625 Z M -5.765625 -4.265625 "/>
</symbol>
</g>
<clipPath id="clip1">
  <path d="M 37.152344 5.480469 L 436.84375 5.480469 L 436.84375 469.851562 L 37.152344 469.851562 Z M 37.152344 5.480469 "/>
</clipPath>
<clipPath id="clip2">
  <path d="M 37.152344 458 L 436.84375 458 L 436.84375 459 L 37.152344 459 Z M 37.152344 458 "/>
</clipPath>
<clipPath id="clip3">
  <path d="M 37.152344 326 L 436.84375 326 L 436.84375 327 L 37.152344 327 Z M 37.152344 326 "/>
</clipPath>
<clipPath id="clip4">
  <path d="M 37.152344 194 L 436.84375 194 L 436.84375 196 L 37.152344 196 Z M 37.152344 194 "/>
</clipPath>
<clipPath id="clip5">
  <path d="M 37.152344 62 L 436.84375 62 L 436.84375 64 L 37.152344 64 Z M 37.152344 62 "/>
</clipPath>
<clipPath id="clip6">
  <path d="M 94 5.480469 L 96 5.480469 L 96 469.851562 L 94 469.851562 Z M 94 5.480469 "/>
</clipPath>
<clipPath id="clip7">
  <path d="M 187 5.480469 L 188 5.480469 L 188 469.851562 L 187 469.851562 Z M 187 5.480469 "/>
</clipPath>
<clipPath id="clip8">
  <path d="M 280 5.480469 L 281 5.480469 L 281 469.851562 L 280 469.851562 Z M 280 5.480469 "/>
</clipPath>
<clipPath id="clip9">
  <path d="M 372 5.480469 L 374 5.480469 L 374 469.851562 L 372 469.851562 Z M 372 5.480469 "/>
</clipPath>
<clipPath id="clip10">
  <path d="M 37.152344 392 L 436.84375 392 L 436.84375 394 L 37.152344 394 Z M 37.152344 392 "/>
</clipPath>
<clipPath id="clip11">
  <path d="M 37.152344 260 L 436.84375 260 L 436.84375 262 L 37.152344 262 Z M 37.152344 260 "/>
</clipPath>
<clipPath id="clip12">
  <path d="M 37.152344 128 L 436.84375 128 L 436.84375 130 L 37.152344 130 Z M 37.152344 128 "/>
</clipPath>
<clipPath id="clip13">
  <path d="M 48 5.480469 L 50 5.480469 L 50 469.851562 L 48 469.851562 Z M 48 5.480469 "/>
</clipPath>
<clipPath id="clip14">
  <path d="M 140 5.480469 L 142 5.480469 L 142 469.851562 L 140 469.851562 Z M 140 5.480469 "/>
</clipPath>
<clipPath id="clip15">
  <path d="M 233 5.480469 L 235 5.480469 L 235 469.851562 L 233 469.851562 Z M 233 5.480469 "/>
</clipPath>
<clipPath id="clip16">
  <path d="M 326 5.480469 L 328 5.480469 L 328 469.851562 L 326 469.851562 Z M 326 5.480469 "/>
</clipPath>
<clipPath id="clip17">
  <path d="M 419 5.480469 L 421 5.480469 L 421 469.851562 L 419 469.851562 Z M 419 5.480469 "/>
</clipPath>
<clipPath id="clip18">
  <path d="M 453.28125 157.585938 L 470.5625 157.585938 L 470.5625 243.984375 L 453.28125 243.984375 Z M 453.28125 157.585938 "/>
</clipPath>
<image id="image10" width="1" height="300" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEsCAIAAACNMk6CAAAABmJLR0QA/wD/AP+gvaeTAAAAjklEQVQ4jaWTQRKAMAgDd3ik//R1HuOlji3SjNYjhZAEKNt+BCgQIRRIAQRSi2l5hdr79/q1fqBQVw+ErvyipqGH5eh7fNFJi1M+9bC8OT/lrTD9fNYwT/0FpvQzwVju0eObndsd/uUa7qX2NffqNE5w7j7dbCudpXbj2ehX0n3f0ot5pX9/1xkPj79W8p41NH/nSHk1sQAAAABJRU5ErkJggg=="/>
<pattern id="pattern0" patternUnits="userSpaceOnUse" width="1" height="300"  patternTransform="matrix(17.28,0,0,0.288,453.281644,157.585479)">
  <use xlink:href="#image10"/>
</pattern>
</defs>
<g id="surface6">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 0 504 L 504 504 L 504 0 L 0 0 Z M 0 504 "/>
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(92.156863%,92.156863%,92.156863%);fill-opacity:1;" d="M 37.152344 469.847656 L 436.84375 469.847656 L 436.84375 5.476562 L 37.152344 5.476562 Z M 37.152344 469.847656 "/>
</g>
<g clip-path="url(#clip2)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 458.554688 L 436.84375 458.554688 "/>
</g>
<g clip-path="url(#clip3)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 326.648438 L 436.84375 326.648438 "/>
</g>
<g clip-path="url(#clip4)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 194.742188 L 436.84375 194.742188 "/>
</g>
<g clip-path="url(#clip5)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 62.832031 L 436.84375 62.832031 "/>
</g>
<g clip-path="url(#clip6)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 94.953125 469.847656 L 94.953125 5.480469 "/>
</g>
<g clip-path="url(#clip7)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 187.710938 469.847656 L 187.710938 5.480469 "/>
</g>
<g clip-path="url(#clip8)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 280.472656 469.847656 L 280.472656 5.480469 "/>
</g>
<g clip-path="url(#clip9)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 373.230469 469.847656 L 373.230469 5.480469 "/>
</g>
<g clip-path="url(#clip10)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 392.601562 L 436.84375 392.601562 "/>
</g>
<g clip-path="url(#clip11)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 260.695312 L 436.84375 260.695312 "/>
</g>
<g clip-path="url(#clip12)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 128.789062 L 436.84375 128.789062 "/>
</g>
<g clip-path="url(#clip13)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 48.570312 469.847656 L 48.570312 5.480469 "/>
</g>
<g clip-path="url(#clip14)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 141.332031 469.847656 L 141.332031 5.480469 "/>
</g>
<g clip-path="url(#clip15)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 234.089844 469.847656 L 234.089844 5.480469 "/>
</g>
<g clip-path="url(#clip16)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 326.851562 469.847656 L 326.851562 5.480469 "/>
</g>
<g clip-path="url(#clip17)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 419.609375 469.847656 L 419.609375 5.480469 "/>
</g>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 227.886719 180.480469 C 227.886719 186.601562 218.703125 186.601562 218.703125 180.480469 C 218.703125 174.359375 227.886719 174.359375 227.886719 180.480469 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 288.585938 262.152344 C 288.585938 265.289062 286.042969 267.832031 282.90625 267.832031 C 279.769531 267.832031 277.226562 265.289062 277.226562 262.152344 C 277.226562 259.015625 279.769531 256.472656 282.90625 256.472656 C 286.042969 256.472656 288.585938 259.015625 288.585938 262.152344 "/>
<path style="fill-rule:nonzero;fill:rgb(32.941176%,67.843137%,94.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.941176%,67.843137%,94.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 384.769531 26.585938 C 384.769531 33.351562 374.621094 33.351562 374.621094 26.585938 C 374.621094 19.820312 384.769531 19.820312 384.769531 26.585938 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,26.666667%,39.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,26.666667%,39.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 105.585938 311.085938 C 105.585938 315.851562 98.433594 315.851562 98.433594 311.085938 C 98.433594 306.316406 105.585938 306.316406 105.585938 311.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.470588%,52.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.470588%,52.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 284.628906 316.691406 C 284.628906 320.101562 281.863281 322.863281 278.453125 322.863281 C 275.042969 322.863281 272.277344 320.101562 272.277344 316.691406 C 272.277344 313.277344 275.042969 310.515625 278.453125 310.515625 C 281.863281 310.515625 284.628906 313.277344 284.628906 316.691406 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,33.333333%,48.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,33.333333%,48.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 249.257812 327.460938 C 249.257812 330.726562 246.613281 333.371094 243.351562 333.371094 C 240.089844 333.371094 237.441406 330.726562 237.441406 327.460938 C 237.441406 324.199219 240.089844 321.554688 243.351562 321.554688 C 246.613281 321.554688 249.257812 324.199219 249.257812 327.460938 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,52.941176%,74.901961%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,52.941176%,74.901961%);stroke-opacity:1;stroke-miterlimit:10;" d="M 293.3125 126.4375 C 293.3125 132.957031 283.53125 132.957031 283.53125 126.4375 C 283.53125 119.914062 293.3125 119.914062 293.3125 126.4375 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 293.367188 191.3125 C 293.367188 198.28125 282.914062 198.28125 282.914062 191.3125 C 282.914062 184.34375 293.367188 184.34375 293.367188 191.3125 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.039216%,28.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.039216%,28.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 138.222656 446.699219 C 138.222656 450.070312 135.492188 452.800781 132.121094 452.800781 C 128.75 452.800781 126.015625 450.070312 126.015625 446.699219 C 126.015625 443.328125 128.75 440.597656 132.121094 440.597656 C 135.492188 440.597656 138.222656 443.328125 138.222656 446.699219 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,30.196078%,44.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,30.196078%,44.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 90.621094 255.15625 C 90.621094 259.132812 84.65625 259.132812 84.65625 255.15625 C 84.65625 251.183594 90.621094 251.183594 90.621094 255.15625 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 194.230469 236.140625 C 194.230469 242.179688 185.171875 242.179688 185.171875 236.140625 C 185.171875 230.101562 194.230469 230.101562 194.230469 236.140625 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.411765%,69.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.411765%,69.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 391.648438 237.246094 C 391.648438 240.734375 388.820312 243.566406 385.328125 243.566406 C 381.839844 243.566406 379.011719 240.734375 379.011719 237.246094 C 379.011719 233.757812 381.839844 230.925781 385.328125 230.925781 C 388.820312 230.925781 391.648438 233.757812 391.648438 237.246094 "/>
<path style="fill-rule:nonzero;fill:rgb(30.196078%,62.352941%,87.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.196078%,62.352941%,87.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 346.886719 58.464844 C 346.886719 65.089844 336.945312 65.089844 336.945312 58.464844 C 336.945312 51.835938 346.886719 51.835938 346.886719 58.464844 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.431373%,28.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.431373%,28.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 98.96875 418.230469 C 98.96875 424.007812 90.300781 424.007812 90.300781 418.230469 C 90.300781 412.449219 98.96875 412.449219 98.96875 418.230469 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,40%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,40%);stroke-opacity:1;stroke-miterlimit:10;" d="M 93.203125 298.949219 C 93.203125 303.246094 86.757812 303.246094 86.757812 298.949219 C 86.757812 294.65625 93.203125 294.65625 93.203125 298.949219 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.117647%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.117647%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.441406 298.433594 C 279.441406 301.707031 276.789062 304.359375 273.519531 304.359375 C 270.25 304.359375 267.597656 301.707031 267.597656 298.433594 C 267.597656 295.164062 270.25 292.511719 273.519531 292.511719 C 276.789062 292.511719 279.441406 295.164062 279.441406 298.433594 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,38.039216%,54.901961%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,38.039216%,54.901961%);stroke-opacity:1;stroke-miterlimit:10;" d="M 234.484375 260.152344 C 234.484375 266.992188 224.226562 266.992188 224.226562 260.152344 C 224.226562 253.316406 234.484375 253.316406 234.484375 260.152344 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.411765%,96.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.411765%,96.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 424.003906 35.328125 C 424.003906 42.433594 413.347656 42.433594 413.347656 35.328125 C 413.347656 28.226562 424.003906 28.226562 424.003906 35.328125 "/>
<path style="fill-rule:nonzero;fill:rgb(32.54902%,67.058824%,93.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.54902%,67.058824%,93.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 406.304688 48.191406 C 406.304688 55.234375 395.738281 55.234375 395.738281 48.191406 C 395.738281 41.144531 406.304688 41.144531 406.304688 48.191406 "/>
<path style="fill-rule:nonzero;fill:rgb(10.196078%,21.960784%,33.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.196078%,21.960784%,33.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 153.1875 406.695312 C 153.1875 409.761719 150.703125 412.246094 147.640625 412.246094 C 144.574219 412.246094 142.089844 409.761719 142.089844 406.695312 C 142.089844 403.632812 144.574219 401.148438 147.640625 401.148438 C 150.703125 401.148438 153.1875 403.632812 153.1875 406.695312 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,47.843137%,68.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,47.843137%,68.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 293.519531 183.855469 C 293.519531 190.769531 283.148438 190.769531 283.148438 183.855469 C 283.148438 176.941406 293.519531 176.941406 293.519531 183.855469 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.196078%,70.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.196078%,70.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 327.285156 183.519531 C 327.285156 186.527344 324.847656 188.96875 321.835938 188.96875 C 318.828125 188.96875 316.390625 186.527344 316.390625 183.519531 C 316.390625 180.511719 318.828125 178.074219 321.835938 178.074219 C 324.847656 178.074219 327.285156 180.511719 327.285156 183.519531 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.921569%,35.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.921569%,35.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 181.074219 399.652344 C 181.074219 402.949219 178.402344 405.617188 175.105469 405.617188 C 171.8125 405.617188 169.140625 402.949219 169.140625 399.652344 C 169.140625 396.359375 171.8125 393.6875 175.105469 393.6875 C 178.402344 393.6875 181.074219 396.359375 181.074219 399.652344 "/>
<path style="fill-rule:nonzero;fill:rgb(9.803922%,21.568627%,32.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.803922%,21.568627%,32.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 90.789062 371.3125 C 90.789062 376.089844 83.621094 376.089844 83.621094 371.3125 C 83.621094 366.53125 90.789062 366.53125 90.789062 371.3125 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.45098%,40.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.45098%,40.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 222.199219 383.804688 C 222.199219 387.3125 219.351562 390.160156 215.84375 390.160156 C 212.335938 390.160156 209.488281 387.3125 209.488281 383.804688 C 209.488281 380.296875 212.335938 377.449219 215.84375 377.449219 C 219.351562 377.449219 222.199219 380.296875 222.199219 383.804688 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.411765%,43.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.411765%,43.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 158.429688 315.449219 C 158.429688 321.550781 149.273438 321.550781 149.273438 315.449219 C 149.273438 309.347656 158.429688 309.347656 158.429688 315.449219 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.019608%,69.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.019608%,69.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 402.242188 250.269531 C 402.242188 253.867188 399.324219 256.785156 395.726562 256.785156 C 392.128906 256.785156 389.210938 253.867188 389.210938 250.269531 C 389.210938 246.671875 392.128906 243.753906 395.726562 243.753906 C 399.324219 243.753906 402.242188 246.671875 402.242188 250.269531 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.490196%,91.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.490196%,91.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 414.40625 70.671875 C 414.40625 73.671875 411.976562 76.101562 408.976562 76.101562 C 405.980469 76.101562 403.550781 73.671875 403.550781 70.671875 C 403.550781 67.675781 405.980469 65.246094 408.976562 65.246094 C 411.976562 65.246094 414.40625 67.675781 414.40625 70.671875 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.980392%,71.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.980392%,71.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 328.761719 176.511719 C 328.761719 179.503906 326.335938 181.925781 323.34375 181.925781 C 320.355469 181.925781 317.929688 179.503906 317.929688 176.511719 C 317.929688 173.519531 320.355469 171.09375 323.34375 171.09375 C 326.335938 171.09375 328.761719 173.519531 328.761719 176.511719 "/>
<path style="fill-rule:nonzero;fill:rgb(26.666667%,54.901961%,77.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.666667%,54.901961%,77.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 323.554688 125.828125 C 323.554688 132.640625 313.339844 132.640625 313.339844 125.828125 C 313.339844 119.015625 323.554688 119.015625 323.554688 125.828125 "/>
<path style="fill-rule:nonzero;fill:rgb(10.196078%,22.352941%,33.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.196078%,22.352941%,33.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 96.070312 363.015625 C 96.070312 367.917969 88.71875 367.917969 88.71875 363.015625 C 88.71875 358.117188 96.070312 358.117188 96.070312 363.015625 "/>
<path style="fill-rule:nonzero;fill:rgb(9.803922%,21.568627%,32.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.803922%,21.568627%,32.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 58.050781 347.671875 C 58.050781 350.277344 54.140625 350.277344 54.140625 347.671875 C 54.140625 345.066406 58.050781 345.066406 58.050781 347.671875 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,41.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,41.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 83.441406 272.988281 C 83.441406 276.800781 77.726562 276.800781 77.726562 272.988281 C 77.726562 269.179688 83.441406 269.179688 83.441406 272.988281 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,29.019608%,42.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,29.019608%,42.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 94.679688 276.949219 C 94.679688 281.164062 88.355469 281.164062 88.355469 276.949219 C 88.355469 272.734375 94.679688 272.734375 94.679688 276.949219 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 232.460938 296.148438 C 232.460938 303.339844 221.667969 303.339844 221.667969 296.148438 C 221.667969 288.953125 232.460938 288.953125 232.460938 296.148438 "/>
<path style="fill-rule:nonzero;fill:rgb(31.372549%,64.705882%,90.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.372549%,64.705882%,90.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 393.242188 63.125 C 393.242188 70.152344 382.699219 70.152344 382.699219 63.125 C 382.699219 56.097656 393.242188 56.097656 393.242188 63.125 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,37.254902%,53.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,37.254902%,53.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 257.316406 288.601562 C 257.316406 291.691406 254.808594 294.199219 251.714844 294.199219 C 248.625 294.199219 246.117188 291.691406 246.117188 288.601562 C 246.117188 285.507812 248.625 283 251.714844 283 C 254.808594 283 257.316406 285.507812 257.316406 288.601562 "/>
<path style="fill-rule:nonzero;fill:rgb(28.627451%,59.215686%,83.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.627451%,59.215686%,83.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 367.71875 109.773438 C 367.71875 116.878906 357.0625 116.878906 357.0625 109.773438 C 357.0625 102.667969 367.71875 102.667969 367.71875 109.773438 "/>
<path style="fill-rule:nonzero;fill:rgb(30.196078%,62.352941%,87.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.196078%,62.352941%,87.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 342.972656 56.683594 C 342.972656 63.269531 333.09375 63.269531 333.09375 56.683594 C 333.09375 50.097656 342.972656 50.097656 342.972656 56.683594 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40%,57.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40%,57.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 313.871094 294.6875 C 313.871094 298.125 311.085938 300.910156 307.648438 300.910156 C 304.210938 300.910156 301.425781 298.125 301.425781 294.6875 C 301.425781 291.253906 304.210938 288.46875 307.648438 288.46875 C 311.085938 288.46875 313.871094 291.253906 313.871094 294.6875 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.647059%,81.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.647059%,81.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 339.859375 106.378906 C 339.859375 113.21875 329.601562 113.21875 329.601562 106.378906 C 329.601562 99.539062 339.859375 99.539062 339.859375 106.378906 "/>
<path style="fill-rule:nonzero;fill:rgb(29.019608%,60.392157%,84.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.019608%,60.392157%,84.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 368.042969 96.28125 C 368.042969 103.300781 357.511719 103.300781 357.511719 96.28125 C 357.511719 89.257812 368.042969 89.257812 368.042969 96.28125 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.921569%,35.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.921569%,35.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 109.875 350.707031 C 109.875 355.953125 102.003906 355.953125 102.003906 350.707031 C 102.003906 345.460938 109.875 345.460938 109.875 350.707031 "/>
<path style="fill-rule:nonzero;fill:rgb(24.705882%,50.980392%,72.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.705882%,50.980392%,72.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 299.597656 155.402344 C 299.597656 162.175781 289.441406 162.175781 289.441406 155.402344 C 289.441406 148.632812 299.597656 148.632812 299.597656 155.402344 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.431373%,55.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.431373%,55.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 180.125 219.46875 C 180.125 225.171875 171.574219 225.171875 171.574219 219.46875 C 171.574219 213.769531 180.125 213.769531 180.125 219.46875 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.490196%,37.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.490196%,37.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 63.125 300.453125 C 63.125 303.339844 58.796875 303.339844 58.796875 300.453125 C 58.796875 297.570312 63.125 297.570312 63.125 300.453125 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,48.235294%,68.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,48.235294%,68.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 294.496094 183.472656 C 294.496094 190.394531 284.113281 190.394531 284.113281 183.472656 C 284.113281 176.554688 294.496094 176.554688 294.496094 183.472656 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,47.843137%,67.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,47.843137%,67.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 357.5 231.761719 C 357.5 235.085938 354.804688 237.777344 351.484375 237.777344 C 348.164062 237.777344 345.46875 235.085938 345.46875 231.761719 C 345.46875 228.441406 348.164062 225.746094 351.484375 225.746094 C 354.804688 225.746094 357.5 228.441406 357.5 231.761719 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,55.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,55.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 258.109375 267.40625 C 258.109375 270.40625 255.679688 272.835938 252.683594 272.835938 C 249.683594 272.835938 247.253906 270.40625 247.253906 267.40625 C 247.253906 264.410156 249.683594 261.980469 252.683594 261.980469 C 255.679688 261.980469 258.109375 264.410156 258.109375 267.40625 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.27451%,66.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.27451%,66.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 332.320312 229.273438 C 332.320312 232.472656 329.726562 235.070312 326.523438 235.070312 C 323.324219 235.070312 320.726562 232.472656 320.726562 229.273438 C 320.726562 226.070312 323.324219 223.476562 326.523438 223.476562 C 329.726562 223.476562 332.320312 226.070312 332.320312 229.273438 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40%,57.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40%,57.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 171.164062 191.691406 C 171.164062 197.078125 163.078125 197.078125 163.078125 191.691406 C 163.078125 186.300781 171.164062 186.300781 171.164062 191.691406 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,47.843137%,67.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,47.843137%,67.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 349.882812 225.953125 C 349.882812 229.21875 347.238281 231.863281 343.972656 231.863281 C 340.707031 231.863281 338.0625 229.21875 338.0625 225.953125 C 338.0625 222.6875 340.707031 220.042969 343.972656 220.042969 C 347.238281 220.042969 349.882812 222.6875 349.882812 225.953125 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.392157%,85.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.392157%,85.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 412.988281 125.355469 C 412.988281 128.5 410.4375 131.046875 407.296875 131.046875 C 404.152344 131.046875 401.601562 128.5 401.601562 125.355469 C 401.601562 122.210938 404.152344 119.660156 407.296875 119.660156 C 410.4375 119.660156 412.988281 122.210938 412.988281 125.355469 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.45098%,40.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.45098%,40.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 117.183594 310.738281 C 117.183594 315.828125 109.542969 315.828125 109.542969 310.738281 C 109.542969 305.644531 117.183594 305.644531 117.183594 310.738281 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.098039%,63.921569%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.098039%,63.921569%);stroke-opacity:1;stroke-miterlimit:10;" d="M 225.457031 172.203125 C 225.457031 178.242188 216.402344 178.242188 216.402344 172.203125 C 216.402344 166.164062 225.457031 166.164062 225.457031 172.203125 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 173.914062 206.839844 C 173.914062 212.359375 165.632812 212.359375 165.632812 206.839844 C 165.632812 201.316406 173.914062 201.316406 173.914062 206.839844 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.588235%,71.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.588235%,71.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 246.980469 122.902344 C 246.980469 128.910156 237.964844 128.910156 237.964844 122.902344 C 237.964844 116.894531 246.980469 116.894531 246.980469 122.902344 "/>
<path style="fill-rule:nonzero;fill:rgb(30.196078%,62.352941%,87.45098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.196078%,62.352941%,87.45098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 396.082031 91.589844 C 396.082031 94.582031 393.65625 97.007812 390.664062 97.007812 C 387.671875 97.007812 385.246094 94.582031 385.246094 91.589844 C 385.246094 88.597656 387.671875 86.171875 390.664062 86.171875 C 393.65625 86.171875 396.082031 88.597656 396.082031 91.589844 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 335.613281 244.675781 C 335.613281 247.960938 332.953125 250.621094 329.667969 250.621094 C 326.386719 250.621094 323.722656 247.960938 323.722656 244.675781 C 323.722656 241.394531 326.386719 238.730469 329.667969 238.730469 C 332.953125 238.730469 335.613281 241.394531 335.613281 244.675781 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,42.352941%,60.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,42.352941%,60.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 264.953125 232.539062 C 264.953125 239.523438 254.476562 239.523438 254.476562 232.539062 C 254.476562 225.558594 264.953125 225.558594 264.953125 232.539062 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,48.235294%,68.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,48.235294%,68.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 412.484375 266.71875 C 412.484375 270.449219 409.460938 273.476562 405.730469 273.476562 C 401.996094 273.476562 398.972656 270.449219 398.972656 266.71875 C 398.972656 262.988281 401.996094 259.960938 405.730469 259.960938 C 409.460938 259.960938 412.484375 262.988281 412.484375 266.71875 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,50.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,50.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 159.769531 250.890625 C 159.769531 256.460938 151.414062 256.460938 151.414062 250.890625 C 151.414062 245.320312 159.769531 245.320312 159.769531 250.890625 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 173.0625 180.308594 C 173.0625 185.664062 165.03125 185.664062 165.03125 180.308594 C 165.03125 174.953125 173.0625 174.953125 173.0625 180.308594 "/>
<path style="fill-rule:nonzero;fill:rgb(30.588235%,62.745098%,87.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.588235%,62.745098%,87.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 410.214844 98.59375 C 410.214844 101.652344 407.734375 104.128906 404.675781 104.128906 C 401.621094 104.128906 399.140625 101.652344 399.140625 98.59375 C 399.140625 95.535156 401.621094 93.058594 404.675781 93.058594 C 407.734375 93.058594 410.214844 95.535156 410.214844 98.59375 "/>
<path style="fill-rule:nonzero;fill:rgb(30.980392%,64.313725%,89.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.980392%,64.313725%,89.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 373.167969 56.085938 C 373.167969 62.917969 362.921875 62.917969 362.921875 56.085938 C 362.921875 49.257812 373.167969 49.257812 373.167969 56.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(29.803922%,61.568627%,86.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.803922%,61.568627%,86.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 384.871094 92.523438 C 384.871094 99.660156 374.164062 99.660156 374.164062 92.523438 C 374.164062 85.382812 384.871094 85.382812 384.871094 92.523438 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.235294%,41.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.235294%,41.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 68.351562 266.359375 C 68.351562 269.457031 63.710938 269.457031 63.710938 266.359375 C 63.710938 263.265625 68.351562 263.265625 68.351562 266.359375 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,47.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,47.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 196.875 306.078125 C 196.875 312.808594 186.777344 312.808594 186.777344 306.078125 C 186.777344 299.347656 196.875 299.347656 196.875 306.078125 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,33.333333%,48.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,33.333333%,48.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 276.78125 348.523438 C 276.78125 352.113281 273.871094 355.027344 270.28125 355.027344 C 266.6875 355.027344 263.777344 352.113281 263.777344 348.523438 C 263.777344 344.929688 266.6875 342.019531 270.28125 342.019531 C 273.871094 342.019531 276.78125 344.929688 276.78125 348.523438 "/>
<path style="fill-rule:nonzero;fill:rgb(20.392157%,42.745098%,61.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.392157%,42.745098%,61.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 299.660156 250.980469 C 299.660156 254.121094 297.113281 256.667969 293.96875 256.667969 C 290.828125 256.667969 288.28125 254.121094 288.28125 250.980469 C 288.28125 247.835938 290.828125 245.289062 293.96875 245.289062 C 297.113281 245.289062 299.660156 247.835938 299.660156 250.980469 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,33.72549%,49.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,33.72549%,49.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 287.429688 349.085938 C 287.429688 352.75 284.460938 355.71875 280.796875 355.71875 C 277.132812 355.71875 274.164062 352.75 274.164062 349.085938 C 274.164062 345.421875 277.132812 342.449219 280.796875 342.449219 C 284.460938 342.449219 287.429688 345.421875 287.429688 349.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.196078%,70.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.196078%,70.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 349.890625 199.757812 C 349.890625 202.917969 347.332031 205.480469 344.171875 205.480469 C 341.011719 205.480469 338.449219 202.917969 338.449219 199.757812 C 338.449219 196.597656 341.011719 194.039062 344.171875 194.039062 C 347.332031 194.039062 349.890625 196.597656 349.890625 199.757812 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 409.386719 158.648438 C 409.386719 161.886719 406.761719 164.511719 403.523438 164.511719 C 400.285156 164.511719 397.65625 161.886719 397.65625 158.648438 C 397.65625 155.410156 400.285156 152.78125 403.523438 152.78125 C 406.761719 152.78125 409.386719 155.410156 409.386719 158.648438 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 202.699219 162.925781 C 202.699219 168.613281 194.167969 168.613281 194.167969 162.925781 C 194.167969 157.238281 202.699219 157.238281 202.699219 162.925781 "/>
<path style="fill-rule:nonzero;fill:rgb(8.627451%,19.215686%,29.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.627451%,19.215686%,29.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 125.804688 424.851562 C 125.804688 431.835938 115.332031 431.835938 115.332031 424.851562 C 115.332031 417.871094 125.804688 417.871094 125.804688 424.851562 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 273.925781 174.601562 C 273.925781 181.230469 263.980469 181.230469 263.980469 174.601562 C 263.980469 167.972656 273.925781 167.972656 273.925781 174.601562 "/>
<path style="fill-rule:nonzero;fill:rgb(10.196078%,22.352941%,33.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.196078%,22.352941%,33.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 150.589844 400.074219 C 150.589844 407.25 139.824219 407.25 139.824219 400.074219 C 139.824219 392.898438 150.589844 392.898438 150.589844 400.074219 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,33.333333%,48.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,33.333333%,48.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 210.386719 302.742188 C 210.386719 309.664062 200.003906 309.664062 200.003906 302.742188 C 200.003906 295.820312 210.386719 295.820312 210.386719 302.742188 "/>
<path style="fill-rule:nonzero;fill:rgb(20.392157%,42.352941%,60.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.392157%,42.352941%,60.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 242.664062 213.484375 C 242.664062 220.027344 232.847656 220.027344 232.847656 213.484375 C 232.847656 206.941406 242.664062 206.941406 242.664062 213.484375 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,40.784314%,58.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,40.784314%,58.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 203.96875 207.25 C 203.96875 213.226562 195.003906 213.226562 195.003906 207.25 C 195.003906 201.273438 203.96875 201.273438 203.96875 207.25 "/>
<path style="fill-rule:nonzero;fill:rgb(12.156863%,26.27451%,39.215686%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.156863%,26.27451%,39.215686%);stroke-opacity:1;stroke-miterlimit:10;" d="M 124.945312 330.476562 C 124.945312 335.949219 116.734375 335.949219 116.734375 330.476562 C 116.734375 325.003906 124.945312 325.003906 124.945312 330.476562 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.490196%,91.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.490196%,91.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 389.164062 53.613281 C 389.164062 60.554688 378.75 60.554688 378.75 53.613281 C 378.75 46.667969 389.164062 46.667969 389.164062 53.613281 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.882353%,38.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.882353%,38.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 56.738281 292.132812 C 56.738281 294.03125 53.898438 294.03125 53.898438 292.132812 C 53.898438 290.238281 56.738281 290.238281 56.738281 292.132812 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,40%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,40%);stroke-opacity:1;stroke-miterlimit:10;" d="M 85.050781 291.765625 C 85.050781 295.730469 79.105469 295.730469 79.105469 291.765625 C 79.105469 287.796875 85.050781 287.796875 85.050781 291.765625 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,40.784314%,58.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,40.784314%,58.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 329.066406 292.527344 C 329.066406 296.03125 326.226562 298.867188 322.726562 298.867188 C 319.226562 298.867188 316.386719 296.03125 316.386719 292.527344 C 316.386719 289.027344 319.226562 286.1875 322.726562 286.1875 C 326.226562 286.1875 329.066406 289.027344 329.066406 292.527344 "/>
<path style="fill-rule:nonzero;fill:rgb(7.45098%,16.862745%,26.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.45098%,16.862745%,26.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 73.171875 420.902344 C 73.171875 425.363281 66.484375 425.363281 66.484375 420.902344 C 66.484375 416.445312 73.171875 416.445312 73.171875 420.902344 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.098039%,37.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.098039%,37.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 170.378906 377.046875 C 170.378906 380.039062 167.957031 382.460938 164.964844 382.460938 C 161.972656 382.460938 159.550781 380.039062 159.550781 377.046875 C 159.550781 374.054688 161.972656 371.632812 164.964844 371.632812 C 167.957031 371.632812 170.378906 374.054688 170.378906 377.046875 "/>
<path style="fill-rule:nonzero;fill:rgb(11.372549%,24.705882%,36.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.372549%,24.705882%,36.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 70.375 312.523438 C 70.375 315.9375 65.253906 315.9375 65.253906 312.523438 C 65.253906 309.113281 70.375 309.113281 70.375 312.523438 "/>
<path style="fill-rule:nonzero;fill:rgb(24.705882%,50.980392%,72.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.705882%,50.980392%,72.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 373.1875 204.238281 C 373.1875 207.507812 370.535156 210.160156 367.261719 210.160156 C 363.992188 210.160156 361.339844 207.507812 361.339844 204.238281 C 361.339844 200.964844 363.992188 198.316406 367.261719 198.316406 C 370.535156 198.316406 373.1875 200.964844 373.1875 204.238281 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.098039%,37.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.098039%,37.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 132.082031 348.914062 C 132.082031 354.773438 123.292969 354.773438 123.292969 348.914062 C 123.292969 343.050781 132.082031 343.050781 132.082031 348.914062 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.058824%,67.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.058824%,67.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 348.40625 233.507812 C 348.40625 236.796875 345.738281 239.464844 342.449219 239.464844 C 339.15625 239.464844 336.492188 236.796875 336.492188 233.507812 C 336.492188 230.214844 339.15625 227.546875 342.449219 227.546875 C 345.738281 227.546875 348.40625 230.214844 348.40625 233.507812 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.431373%,28.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.431373%,28.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 147.292969 448.742188 C 147.292969 452.285156 144.417969 455.15625 140.875 455.15625 C 137.332031 455.15625 134.457031 452.285156 134.457031 448.742188 C 134.457031 445.199219 137.332031 442.324219 140.875 442.324219 C 144.417969 442.324219 147.292969 445.199219 147.292969 448.742188 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.882353%,65.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.882353%,65.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 379.828125 268.386719 C 379.828125 271.988281 376.910156 274.90625 373.308594 274.90625 C 369.707031 274.90625 366.789062 271.988281 366.789062 268.386719 C 366.789062 264.785156 369.707031 261.867188 373.308594 261.867188 C 376.910156 261.867188 379.828125 264.785156 379.828125 268.386719 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,29.803922%,43.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,29.803922%,43.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 190.636719 332.527344 C 190.636719 339.472656 180.21875 339.472656 180.21875 332.527344 C 180.21875 325.582031 190.636719 325.582031 190.636719 332.527344 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.019608%,42.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.019608%,42.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 249.546875 384.152344 C 249.546875 387.882812 246.523438 390.90625 242.796875 390.90625 C 239.066406 390.90625 236.042969 387.882812 236.042969 384.152344 C 236.042969 380.425781 239.066406 377.402344 242.796875 377.402344 C 246.523438 377.402344 249.546875 380.425781 249.546875 384.152344 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,44.705882%,63.921569%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,44.705882%,63.921569%);stroke-opacity:1;stroke-miterlimit:10;" d="M 222.800781 171.085938 C 222.800781 177.085938 213.804688 177.085938 213.804688 171.085938 C 213.804688 165.089844 222.800781 165.089844 222.800781 171.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.882353%,65.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.882353%,65.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 300.253906 213.8125 C 300.253906 216.808594 297.828125 219.238281 294.832031 219.238281 C 291.835938 219.238281 289.40625 216.808594 289.40625 213.8125 C 289.40625 210.816406 291.835938 208.390625 294.832031 208.390625 C 297.828125 208.390625 300.253906 210.816406 300.253906 213.8125 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.019608%,69.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.019608%,69.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 386.519531 238.222656 C 386.519531 241.695312 383.703125 244.511719 380.230469 244.511719 C 376.753906 244.511719 373.941406 241.695312 373.941406 238.222656 C 373.941406 234.75 376.753906 231.933594 380.230469 231.933594 C 383.703125 231.933594 386.519531 234.75 386.519531 238.222656 "/>
<path style="fill-rule:nonzero;fill:rgb(23.137255%,47.843137%,68.235294%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.137255%,47.843137%,68.235294%);stroke-opacity:1;stroke-miterlimit:10;" d="M 289.101562 181.574219 C 289.101562 188.421875 278.832031 188.421875 278.832031 181.574219 C 278.832031 174.730469 289.101562 174.730469 289.101562 181.574219 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="20.21875" y="395.516602"/>
  <use xlink:href="#glyph0-2" x="25.21875" y="395.516602"/>
  <use xlink:href="#glyph0-3" x="27.21875" y="395.516602"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="20.21875" y="263.610352"/>
  <use xlink:href="#glyph0-2" x="25.21875" y="263.610352"/>
  <use xlink:href="#glyph0-1" x="27.21875" y="263.610352"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="20.21875" y="131.704102"/>
  <use xlink:href="#glyph0-2" x="25.21875" y="131.704102"/>
  <use xlink:href="#glyph0-3" x="27.21875" y="131.704102"/>
</g>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 392.601562 L 37.152344 392.601562 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 260.695312 L 37.152344 260.695312 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 128.789062 L 37.152344 128.789062 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 48.570312 472.589844 L 48.570312 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 141.332031 472.589844 L 141.332031 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 234.089844 472.589844 L 234.089844 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 326.851562 472.589844 L 326.851562 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 419.609375 472.589844 L 419.609375 469.847656 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="40.070312" y="481.196289"/>
  <use xlink:href="#glyph0-2" x="45.070312" y="481.196289"/>
  <use xlink:href="#glyph0-1" x="47.070312" y="481.196289"/>
  <use xlink:href="#glyph0-1" x="52.070312" y="481.196289"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="132.832031" y="481.196289"/>
  <use xlink:href="#glyph0-2" x="137.832031" y="481.196289"/>
  <use xlink:href="#glyph0-5" x="139.832031" y="481.196289"/>
  <use xlink:href="#glyph0-3" x="144.832031" y="481.196289"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="225.589844" y="481.196289"/>
  <use xlink:href="#glyph0-2" x="230.589844" y="481.196289"/>
  <use xlink:href="#glyph0-3" x="232.589844" y="481.196289"/>
  <use xlink:href="#glyph0-1" x="237.589844" y="481.196289"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="318.351562" y="481.196289"/>
  <use xlink:href="#glyph0-2" x="323.351562" y="481.196289"/>
  <use xlink:href="#glyph0-6" x="325.351562" y="481.196289"/>
  <use xlink:href="#glyph0-3" x="330.351562" y="481.196289"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="411.109375" y="481.196289"/>
  <use xlink:href="#glyph0-2" x="416.109375" y="481.196289"/>
  <use xlink:href="#glyph0-1" x="418.109375" y="481.196289"/>
  <use xlink:href="#glyph0-1" x="423.109375" y="481.196289"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="234.496094" y="494.538086"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-1" x="13.499023" y="240.164062"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 447.800781 249.464844 L 493.519531 249.464844 L 493.519531 134.625 L 447.800781 134.625 Z M 447.800781 249.464844 "/>
<g clip-path="url(#clip18)" clip-rule="nonzero">
<rect x="0" y="0" width="504" height="504" style="fill:url(#pattern0);stroke:none;"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="476.042969" y="244.96582"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="244.96582"/>
  <use xlink:href="#glyph0-3" x="483.042969" y="244.96582"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="476.042969" y="227.036133"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="227.036133"/>
  <use xlink:href="#glyph0-1" x="483.042969" y="227.036133"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="476.042969" y="209.110352"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="209.110352"/>
  <use xlink:href="#glyph0-3" x="483.042969" y="209.110352"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="476.042969" y="191.18457"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="191.18457"/>
  <use xlink:href="#glyph0-1" x="483.042969" y="191.18457"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="476.042969" y="173.254883"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="173.254883"/>
  <use xlink:href="#glyph0-3" x="483.042969" y="173.254883"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="453.28125" y="149.624023"/>
  <use xlink:href="#glyph1-1" x="457.28125" y="149.624023"/>
  <use xlink:href="#glyph1-3" x="462.28125" y="149.624023"/>
  <use xlink:href="#glyph1-4" x="465.28125" y="149.624023"/>
  <use xlink:href="#glyph1-3" x="471.28125" y="149.624023"/>
  <use xlink:href="#glyph1-5" x="474.28125" y="149.624023"/>
  <use xlink:href="#glyph1-6" x="479.28125" y="149.624023"/>
</g>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 453.28125 242.050781 L 456.738281 242.050781 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 453.28125 224.121094 L 456.738281 224.121094 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 453.28125 206.195312 L 456.738281 206.195312 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 453.28125 188.269531 L 456.738281 188.269531 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 453.28125 170.339844 L 456.738281 170.339844 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.105469 242.050781 L 470.5625 242.050781 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.105469 224.121094 L 470.5625 224.121094 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.105469 206.195312 L 470.5625 206.195312 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.105469 188.269531 L 470.5625 188.269531 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.105469 170.339844 L 470.5625 170.339844 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 447.800781 340.703125 L 498.519531 340.703125 L 498.519531 260.425781 L 447.800781 260.425781 Z M 447.800781 340.703125 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="453.28125" y="275.420898"/>
  <use xlink:href="#glyph1-1" x="457.28125" y="275.420898"/>
  <use xlink:href="#glyph1-7" x="462.28125" y="275.420898"/>
  <use xlink:href="#glyph1-5" x="465.28125" y="275.420898"/>
  <use xlink:href="#glyph1-6" x="470.28125" y="275.420898"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 453.28125 300.664062 L 470.5625 300.664062 L 470.5625 283.382812 L 453.28125 283.382812 Z M 453.28125 300.664062 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 465.945312 292.023438 C 465.945312 297.386719 457.898438 297.386719 457.898438 292.023438 C 457.898438 286.660156 465.945312 286.660156 465.945312 292.023438 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 453.28125 317.941406 L 470.5625 317.941406 L 470.5625 300.660156 L 453.28125 300.660156 Z M 453.28125 317.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.105469 309.304688 C 467.105469 316.210938 456.738281 316.210938 456.738281 309.304688 C 456.738281 302.394531 467.105469 302.394531 467.105469 309.304688 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 453.28125 335.222656 L 470.5625 335.222656 L 470.5625 317.941406 L 453.28125 317.941406 Z M 453.28125 335.222656 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 467.980469 326.582031 C 467.980469 329.929688 465.269531 332.644531 461.921875 332.644531 C 458.574219 332.644531 455.859375 329.929688 455.859375 326.582031 C 455.859375 323.234375 458.574219 320.523438 461.921875 320.523438 C 465.269531 320.523438 467.980469 323.234375 467.980469 326.582031 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="476.042969" y="294.938477"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="294.938477"/>
  <use xlink:href="#glyph0-5" x="483.042969" y="294.938477"/>
  <use xlink:href="#glyph0-3" x="488.042969" y="294.938477"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="476.042969" y="312.219727"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="312.219727"/>
  <use xlink:href="#glyph0-3" x="483.042969" y="312.219727"/>
  <use xlink:href="#glyph0-1" x="488.042969" y="312.219727"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="476.042969" y="329.49707"/>
  <use xlink:href="#glyph0-2" x="481.042969" y="329.49707"/>
  <use xlink:href="#glyph0-6" x="483.042969" y="329.49707"/>
  <use xlink:href="#glyph0-3" x="488.042969" y="329.49707"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>Any plot (function or object) can be saved to file or converted to BufferedImage object.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(plot->file&nbsp;(str&nbsp;target-path&nbsp;"histogram.jpg")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Histogram"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"data:&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;800</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;400</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:quality&nbsp;50))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:breaks&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5],</br>&nbsp;:counts&nbsp;[5&nbsp;1&nbsp;1&nbsp;1],</br>&nbsp;:density&nbsp;[0.625&nbsp;0.125&nbsp;0.125&nbsp;0.125],</br>&nbsp;:mids&nbsp;[1.5&nbsp;2.5&nbsp;3.5&nbsp;4.5],</br>&nbsp;:xname&nbsp;["c(1L,&nbsp;1L,&nbsp;1L,&nbsp;1L,&nbsp;2L,&nbsp;3L,&nbsp;4L,&nbsp;5L)"],</br>&nbsp;:equidist&nbsp;[true]}</code></div></div><div class="nspbox"><image src="histogram.jpg"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->buffered-image&nbsp;(fn&nbsp;[]&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;222</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;149)</code></div><div class="nspout"><code class="prettyprint lang-clj">#object[java.awt.image.BufferedImage&nbsp;0xc2585b6&nbsp;"BufferedImage@c2585b6:&nbsp;type&nbsp;=&nbsp;2&nbsp;DirectColorModel:&nbsp;rmask=ff0000&nbsp;gmask=ff00&nbsp;bmask=ff&nbsp;amask=ff000000&nbsp;IntegerInterleavedRaster:&nbsp;width&nbsp;=&nbsp;222&nbsp;height&nbsp;=&nbsp;149&nbsp;#Bands&nbsp;=&nbsp;4&nbsp;xOff&nbsp;=&nbsp;0&nbsp;yOff&nbsp;=&nbsp;0&nbsp;dataOffset[0]&nbsp;0"]</code></div></div><div class="nspbox"><a id="intermediary-representation-as-Java-objects"> </a><div><h2>Intermediary representation as Java objects.</h2></div></div><div class="nspbox"><div><p>Clojisr relies on the fact of an intemediary representation of java, as Java objects. This is usually hidden from the user, but may be useful sometimes. In the current implementation, this is based on <a href='https://github.com/s-u/REngine'>REngine</a>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(import&nbsp;(org.rosuda.REngine&nbsp;REXP&nbsp;REXPInteger&nbsp;REXPDouble))</code></div></div><div class="nspbox"><div><p>We can convert data between R and Java.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(REXPInteger.&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><div><p>We can further convert data from the java representation to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>On the opposite direction, we can also convert Clojure data into the Java represenattion.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>There is an alternative way of conversion from Java to Clojure, naively converting the internal Java representation to a Clojure data structure. It can be handy when one wants to have plain access to all the metadata (R attributes), etc. </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->native-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"data.frame(x=1:3,y=factor('a','a','b'))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->native-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:x&nbsp;[1,&nbsp;2,&nbsp;3],&nbsp;:y&nbsp;[1,&nbsp;1,&nbsp;1]}</code></div></div><div class="nspbox"><div><p>We can evaluate R code and immediately return the result as a java object, without ever creating a handle to an R object holding the result:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPDouble))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPDouble]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.asDoubles)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="more-data-conversion-examples"> </a><div><h2>More data conversion examples</h2></div></div><div class="nspbox"><div><p>Convertion between R and Clojure always passes through Java. To stress this, we write it explicitly in the following examples.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,b='hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Partially named lists are also supported</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,'hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;1&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;1&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"table(c('a','b','a','b','a','b','a','b'),&nbsp;c(1,1,2,2,3,3,1,1))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/mapseq-reader</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#{{0&nbsp;"a",&nbsp;1&nbsp;"2",&nbsp;:$value&nbsp;2}&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"3",&nbsp;:$value&nbsp;1}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{0&nbsp;"a",&nbsp;1&nbsp;"1",&nbsp;:$value&nbsp;2}&nbsp;{0&nbsp;"a",&nbsp;1&nbsp;"3",&nbsp;:$value&nbsp;1}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"2",&nbsp;:$value&nbsp;1}&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"1",&nbsp;:$value&nbsp;1}}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;#{{0&nbsp;"a",&nbsp;1&nbsp;"2",&nbsp;:$value&nbsp;2}</br>&nbsp;&nbsp;&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"3",&nbsp;:$value&nbsp;1}</br>&nbsp;&nbsp;&nbsp;{0&nbsp;"a",&nbsp;1&nbsp;"1",&nbsp;:$value&nbsp;2}</br>&nbsp;&nbsp;&nbsp;{0&nbsp;"a",&nbsp;1&nbsp;"3",&nbsp;:$value&nbsp;1}</br>&nbsp;&nbsp;&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"2",&nbsp;:$value&nbsp;1}</br>&nbsp;&nbsp;&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"1",&nbsp;:$value&nbsp;1}}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((r&nbsp;"deparse"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">["list(a&nbsp;=&nbsp;1:2,&nbsp;b&nbsp;=&nbsp;\"hi!\")"]</code></div></div><div class="nspbox"><div><h3>Basic types convertion clj->r->clj</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;clj->r->clj&nbsp;(comp&nbsp;r->clj&nbsp;r))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr.v1.tutorial-test/clj->r->clj</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;nil)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10&nbsp;11])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10&nbsp;11]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10&nbsp;11]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10.0&nbsp;11.0])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;(list&nbsp;10.0&nbsp;11.0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]}]</code></div></div><div class="nspbox"><div><h3>Various R objects</h3></div></div><div class="nspbox"><div><p>Named list</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"list(a=1L,b=c(10,20),c='hi!')")&nbsp;;;&nbsp;named&nbsp;list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Array of doubles</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10,20,30)")&nbsp;;;&nbsp;array&nbsp;of&nbsp;doubles</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;20.0&nbsp;30.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;20.0&nbsp;30.0]]</code></div></div><div class="nspbox"><div><p>Array of longs</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10L,20L,30L)")&nbsp;;;&nbsp;array&nbsp;of&nbsp;longs</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10&nbsp;20&nbsp;30]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10&nbsp;20&nbsp;30]]</code></div></div><div class="nspbox"><div><p>Timeseries</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;'euro)&nbsp;;;&nbsp;timeseries</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;13.7603))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;13.7603]</code></div></div><div class="nspbox"><div><p>Pairlist</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r.base/formals&nbsp;r.stats/dnorm)&nbsp;;;&nbsp;pairlist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;'(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)]</code></div></div><div class="nspbox"><div><p>NULL</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"NULL")&nbsp;;;&nbsp;null</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div><p>TRUE/FALSE</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"TRUE")&nbsp;;;&nbsp;true/false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[true]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[true]]</code></div></div><div class="nspbox"><a id="inspecting-R-functions"> </a><div><h2>Inspecting R functions</h2></div></div><div class="nspbox"><div><p>The <code>mean</code> function is defined to expect arguments <code>x</code> and <code>...</code>. These arguments have no default values (thus, its formals have empty symbols as values):</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><div><p>It is an <a href='http://adv-r.had.co.nz/S3.html'>S3 generic function</a> function, which we can realize by printing it:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'mean)</code></div><div class="nspout"><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;...)&nbsp;</br>UseMethod("mean")</br><bytecode:&nbsp;0x55e54c07e988></br><environment:&nbsp;namespace:base></code></div></div><div class="nspbox"><div><p>So, we can expect possibly more details when inspecting its default implementation. Now, we see some arguments that do have default values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;'mean.default</br>&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><a id="R-function-arglists"> </a><div><h2>R-function-arglists</h2></div></div><div class="nspbox"><div><p>As we saw earlier, R functions are Clojure functions. The arglists of functions brought up by <code>require-r</code> match the expected arguments. Here are some examples:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base]&nbsp;'[stats]&nbsp;'[grDevices])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;[#'r.base/mean&nbsp;#'r.base/mean-default&nbsp;#'r.stats/arima0</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.grDevices/dev-off&nbsp;#'r.base/Sys-info&nbsp;#'r.base/summary-default</br>&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;Primitive&nbsp;functions:</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/sin&nbsp;#'r.base/sum]</br>&nbsp;&nbsp;&nbsp;(map&nbsp;(fn&nbsp;[f]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(update&nbsp;:ns&nbsp;(comp&nbsp;symbol&nbsp;str)))))</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[order&nbsp;seasonal&nbsp;xreg&nbsp;include.mean&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars&nbsp;fixed&nbsp;init&nbsp;method&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;([x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[order</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seasonal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})]</code></div></div><hr /><div>Checks: <b class="PASSED">60 PASSED </b><hr /></div><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Sat Aug 13 18:50:00 CEST 2022.</small></i><hr /></div></div></body></html></html>